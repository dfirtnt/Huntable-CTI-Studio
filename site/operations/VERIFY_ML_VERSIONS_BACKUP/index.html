
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Modern docs for the Huntable CTI Studio (CTIScraper)">
      
      
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>ML Model Versions Backup/Restore Verification Plan - Huntable CTI Studio</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ml-model-versions-backuprestore-verification-plan" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Huntable CTI Studio" class="md-header__button md-logo" aria-label="Huntable CTI Studio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Huntable CTI Studio
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ML Model Versions Backup/Restore Verification Plan
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Huntable CTI Studio" class="md-nav__button md-logo" aria-label="Huntable CTI Studio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Huntable CTI Studio
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Concepts
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/huntables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Huntables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/pipelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pipelines
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/observables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Observables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    How-to
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    How-to
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/run_locally/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Run locally
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/add_feed/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Add feed
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/extract_observables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Extract observables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/generate_sigma/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Generate Sigma
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/evaluate_models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evaluate models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/schemas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Schemas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sigma/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sigma
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/versioning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Versioning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Internals
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Internals
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/scoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scoring
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/chunking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chunking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/qa_loops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    QA loops
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Deployment
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Deployment
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/GETTING_STARTED/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/DOCKER_ARCHITECTURE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/TECHNICAL_READOUT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Technical Readout
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/DEVELOPMENT_SETUP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/PORT_CONFIGURATION/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Port Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/WEB_APP_TESTING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Web App Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/DATABASE_QUERY_GUIDE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Queries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DEBUGGING_TOOLS_GUIDE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Debugging Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Features
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Features
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/CONTENT_FILTERING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Content Filtering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/OS_DETECTION/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OS Detection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/SIGMA_DETECTION_RULES/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sigma Rules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Operations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Operations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../BACKUP_AND_RESTORE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backup & Restore
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SOURCE_CONFIG_PRECEDENCE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Source Config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#safety-guarantees" class="md-nav__link">
    <span class="md-ellipsis">
      
        Safety Guarantees
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verification-process" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verification Process
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Verification Process">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-1-comprehensive-automated-script-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      
        Method 1: Comprehensive Automated Script (Recommended)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-2-manual-verification" class="md-nav__link">
    <span class="md-ellipsis">
      
        Method 2: Manual Verification
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Method 2: Manual Verification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-create-test-database" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Create Test Database
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-copy-table-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Copy Table Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-copy-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Copy Data
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-verify-data-copied" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Verify Data Copied
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-create-backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: Create Backup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-verify-backup-contains-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 6: Verify Backup Contains Data
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-7-drop-and-restore" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 7: Drop and Restore
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-8-verify-restored-count" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 8: Verify Restored Count
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-9-cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 9: Cleanup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verification-checklist" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verification Checklist
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Verification Checklist">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-verification" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic Verification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprehensive-verification-30-checks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Comprehensive Verification (30+ checks)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-to-look-for" class="md-nav__link">
    <span class="md-ellipsis">
      
        What to Look For
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="What to Look For">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#success-indicators" class="md-nav__link">
    <span class="md-ellipsis">
      
        ✅ Success Indicators
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#failure-indicators" class="md-nav__link">
    <span class="md-ellipsis">
      
        ❌ Failure Indicators
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-test-database-creation-fails" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: Test database creation fails
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-backup-file-is-empty" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: Backup file is empty
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-restore-fails-with-constraint-errors" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: Restore fails with constraint errors
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frequency" class="md-nav__link">
    <span class="md-ellipsis">
      
        Frequency
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#related-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Related Documentation
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="ml-model-versions-backuprestore-verification-plan">ML Model Versions Backup/Restore Verification Plan</h1>
<h2 id="overview">Overview</h2>
<p>This document describes a safe verification process to confirm that ML model versions (<code>ml_model_versions</code> table) are properly backed up and can be restored, <strong>without any risk to production data</strong>.</p>
<h2 id="safety-guarantees">Safety Guarantees</h2>
<p>✅ <strong>Production database is never modified</strong><br />
✅ <strong>Uses isolated test database</strong> (<code>cti_scraper_test</code>)<br />
✅ <strong>All test artifacts are cleaned up</strong><br />
✅ <strong>Read-only access to production data</strong></p>
<h2 id="verification-process">Verification Process</h2>
<h3 id="method-1-comprehensive-automated-script-recommended">Method 1: Comprehensive Automated Script (Recommended)</h3>
<p>Run the comprehensive verification script for thorough testing:</p>
<pre><code class="language-bash">./utils/temp/verify_backup_restore_comprehensive.sh
</code></pre>
<p><strong>What it tests (12 phases, 30+ checks):</strong>
1. Production database analysis and statistics
2. Test database setup and data copying
3. Backup creation (uncompressed and compressed)
4. Restore operations (both formats)
5. Data integrity verification (counts, ranges)
6. Detailed value comparison (specific records)
7. Timestamp preservation
8. Foreign key relationships
9. Metadata accuracy
10. Edge cases (NULLs, empty JSON)
11. Statistical verification (averages, sums)
12. Restore script compatibility</p>
<p><strong>Alternative: Basic Script</strong></p>
<p>For quicker verification, use the basic script:</p>
<pre><code class="language-bash">./utils/temp/verify_backup_restore_ml_versions.sh
</code></pre>
<p><strong>What it does:</strong>
1. Creates isolated test database (<code>cti_scraper_test</code>)
2. Copies <code>ml_model_versions</code> data from production to test DB
3. Creates backup of test database
4. Verifies backup contains <code>ml_model_versions</code>
5. Drops and restores test database from backup
6. Verifies restored count matches production count
7. Verifies sample data integrity
8. Cleans up all test artifacts</p>
<p><strong>Expected output:</strong></p>
<pre><code>✅ Production database has 68 model versions
✅ Test database created
✅ Table structure created
✅ Copied 68 model versions to test database
✅ Backup created
✅ Backup contains ml_model_versions
✅ Database restored
✅ Verification successful!
✅ Sample data integrity verified
✅ Cleanup complete
</code></pre>
<h3 id="method-2-manual-verification">Method 2: Manual Verification</h3>
<p>If you prefer manual verification:</p>
<h4 id="step-1-create-test-database">Step 1: Create Test Database</h4>
<pre><code class="language-bash">docker exec cti_postgres psql -U cti_user -d postgres -c &quot;CREATE DATABASE cti_scraper_test;&quot;
</code></pre>
<h4 id="step-2-copy-table-structure">Step 2: Copy Table Structure</h4>
<pre><code class="language-bash">docker exec cti_postgres pg_dump -U cti_user -d cti_scraper -t ml_model_versions --schema-only | \
  docker exec -i cti_postgres psql -U cti_user -d cti_scraper_test
</code></pre>
<h4 id="step-3-copy-data">Step 3: Copy Data</h4>
<pre><code class="language-bash">docker exec cti_postgres pg_dump -U cti_user -d cti_scraper -t ml_model_versions --data-only | \
  docker exec -i cti_postgres psql -U cti_user -d cti_scraper_test
</code></pre>
<h4 id="step-4-verify-data-copied">Step 4: Verify Data Copied</h4>
<pre><code class="language-bash">docker exec cti_postgres psql -U cti_user -d cti_scraper_test -c \
  &quot;SELECT COUNT(*) FROM ml_model_versions;&quot;
</code></pre>
<h4 id="step-5-create-backup">Step 5: Create Backup</h4>
<pre><code class="language-bash">mkdir -p /tmp/backup_test
docker exec cti_postgres pg_dump -U cti_user -d cti_scraper_test &gt; \
  /tmp/backup_test/test_backup.sql
</code></pre>
<h4 id="step-6-verify-backup-contains-data">Step 6: Verify Backup Contains Data</h4>
<pre><code class="language-bash">grep -c &quot;ml_model_versions&quot; /tmp/backup_test/test_backup.sql
# Should show multiple references (table definition, COPY statement, data)
</code></pre>
<h4 id="step-7-drop-and-restore">Step 7: Drop and Restore</h4>
<pre><code class="language-bash">docker exec cti_postgres psql -U cti_user -d postgres -c &quot;DROP DATABASE cti_scraper_test;&quot;
docker exec cti_postgres psql -U cti_user -d postgres -c &quot;CREATE DATABASE cti_scraper_test;&quot;
docker exec -i cti_postgres psql -U cti_user -d cti_scraper_test &lt; /tmp/backup_test/test_backup.sql
</code></pre>
<h4 id="step-8-verify-restored-count">Step 8: Verify Restored Count</h4>
<pre><code class="language-bash">docker exec cti_postgres psql -U cti_user -d cti_scraper_test -c \
  &quot;SELECT COUNT(*) FROM ml_model_versions;&quot;
# Should match production count
</code></pre>
<h4 id="step-9-cleanup">Step 9: Cleanup</h4>
<pre><code class="language-bash">docker exec cti_postgres psql -U cti_user -d postgres -c &quot;DROP DATABASE cti_scraper_test;&quot;
rm -rf /tmp/backup_test
</code></pre>
<h2 id="verification-checklist">Verification Checklist</h2>
<h3 id="basic-verification">Basic Verification</h3>
<ul>
<li>[ ] Test database created successfully</li>
<li>[ ] Production data copied to test database</li>
<li>[ ] Backup file created and contains <code>ml_model_versions</code></li>
<li>[ ] Backup file size is reasonable (not empty)</li>
<li>[ ] Test database restored from backup</li>
<li>[ ] Restored count matches production count</li>
<li>[ ] Sample version records verified (e.g., version 1, latest version)</li>
<li>[ ] Evaluation metrics present in restored data</li>
<li>[ ] Test database cleaned up</li>
</ul>
<h3 id="comprehensive-verification-30-checks">Comprehensive Verification (30+ checks)</h3>
<ul>
<li>[ ] Uncompressed backup created and validated</li>
<li>[ ] Compressed backup created and validated</li>
<li>[ ] Backup contains COPY statement with data rows</li>
<li>[ ] Metadata file created with accurate count</li>
<li>[ ] Restore from uncompressed backup successful</li>
<li>[ ] Restore from compressed backup successful</li>
<li>[ ] Evaluation metrics count preserved</li>
<li>[ ] Confusion matrices count preserved</li>
<li>[ ] Version range preserved (min/max)</li>
<li>[ ] Model file paths preserved</li>
<li>[ ] Version 1 data integrity (exact match)</li>
<li>[ ] Latest version data integrity (exact match)</li>
<li>[ ] Confusion matrix JSON preserved</li>
<li>[ ] Numeric precision preserved (all metrics)</li>
<li>[ ] Timestamps preserved (trained_at, evaluated_at)</li>
<li>[ ] Comparison relationships preserved</li>
<li>[ ] Metadata count accurate</li>
<li>[ ] NULL values handled correctly</li>
<li>[ ] Empty JSON objects preserved</li>
<li>[ ] Average accuracy matches</li>
<li>[ ] Version number integrity (sum check)</li>
<li>[ ] Backup format compatible with restore script</li>
<li>[ ] Backup passes restore script validation</li>
</ul>
<h2 id="what-to-look-for">What to Look For</h2>
<h3 id="success-indicators">✅ Success Indicators</h3>
<ul>
<li>Backup file contains <code>COPY public.ml_model_versions</code> statement</li>
<li>Backup file contains data rows for all versions</li>
<li>Restored database has same count as production</li>
<li>Sample versions (1, 68, etc.) have all fields populated</li>
<li>Evaluation metrics (<code>eval_accuracy</code>, <code>eval_f1_score_huntable</code>, etc.) are present</li>
</ul>
<h3 id="failure-indicators">❌ Failure Indicators</h3>
<ul>
<li>Backup file doesn't mention <code>ml_model_versions</code></li>
<li>Restored count is 0 or different from production</li>
<li>Missing evaluation metrics in restored data</li>
<li>Error messages during restore</li>
</ul>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="issue-test-database-creation-fails">Issue: Test database creation fails</h3>
<p><strong>Solution:</strong> Check if <code>cti_scraper_test</code> already exists and drop it first:</p>
<pre><code class="language-bash">docker exec cti_postgres psql -U cti_user -d postgres -c \
  &quot;DROP DATABASE IF EXISTS cti_scraper_test;&quot;
</code></pre>
<h3 id="issue-backup-file-is-empty">Issue: Backup file is empty</h3>
<p><strong>Solution:</strong> Check Docker container is running and database is accessible:</p>
<pre><code class="language-bash">docker ps | grep cti_postgres
docker exec cti_postgres psql -U cti_user -d cti_scraper -c &quot;SELECT 1;&quot;
</code></pre>
<h3 id="issue-restore-fails-with-constraint-errors">Issue: Restore fails with constraint errors</h3>
<p><strong>Solution:</strong> This is normal if restoring into existing database. The verification uses a fresh database, so this shouldn't occur. If it does, ensure you're using a clean test database.</p>
<h2 id="frequency">Frequency</h2>
<p><strong>Recommended:</strong> Run verification after:
- Any changes to backup/restore scripts
- Database schema migrations affecting <code>ml_model_versions</code>
- Major system updates
- Before critical restore operations</p>
<p><strong>Optional:</strong> Run monthly as part of backup health checks.</p>
<h2 id="related-documentation">Related Documentation</h2>
<ul>
<li><a href="../BACKUP_AND_RESTORE/">Backup and Restore Guide</a></li>
<li><strong>ML Model Versioning System</strong>: See model_versioning.py in src/utils/</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>