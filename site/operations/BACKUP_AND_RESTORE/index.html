
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Modern docs for the Huntable CTI Studio (CTIScraper)">
      
      
      
      
        <link rel="prev" href="../../features/SIGMA_DETECTION_RULES/">
      
      
        <link rel="next" href="../SOURCE_CONFIG_PRECEDENCE/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Backup & Restore - Huntable CTI Studio</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#backup-and-restore-system" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Huntable CTI Studio" class="md-header__button md-logo" aria-label="Huntable CTI Studio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Huntable CTI Studio
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Backup & Restore
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Huntable CTI Studio" class="md-nav__button md-logo" aria-label="Huntable CTI Studio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Huntable CTI Studio
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Concepts
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/huntables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Huntables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/pipelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pipelines
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/observables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Observables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    How-to
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    How-to
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/run_locally/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Run locally
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/add_feed/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Add feed
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/extract_observables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Extract observables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/generate_sigma/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Generate Sigma
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/evaluate_models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evaluate models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CLI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/schemas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Schemas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sigma/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sigma
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/versioning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Versioning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Internals
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Internals
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/scoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scoring
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/chunking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chunking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internals/qa_loops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    QA loops
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Deployment
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Deployment
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/GETTING_STARTED/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/DOCKER_ARCHITECTURE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/TECHNICAL_READOUT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Technical Readout
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/DEVELOPMENT_SETUP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/PORT_CONFIGURATION/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Port Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/WEB_APP_TESTING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Web App Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/DATABASE_QUERY_GUIDE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Queries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DEBUGGING_TOOLS_GUIDE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Debugging Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Features
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Features
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/CONTENT_FILTERING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Content Filtering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/OS_DETECTION/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OS Detection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/SIGMA_DETECTION_RULES/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sigma Rules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" checked>
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Operations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Operations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Backup & Restore
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Backup & Restore
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Table of Contents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quick Start
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quick Start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create Backup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        Restore System
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-backups" class="md-nav__link">
    <span class="md-ellipsis">
      
        List Backups
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        System Overview
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backup-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backup Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#components-backed-up" class="md-nav__link">
    <span class="md-ellipsis">
      
        Components Backed Up
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Components Backed Up">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#database-only-backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database-Only Backup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#full-system-backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Full System Backup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backup Structure
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-only-backups" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database-Only Backups
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database-Only Backups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    <span class="md-ellipsis">
      
        Features
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Commands
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-backup_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create Backup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-backups_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        List Backups
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-database" class="md-nav__link">
    <span class="md-ellipsis">
      
        Restore Database
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metadata Format
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-system-backups" class="md-nav__link">
    <span class="md-ellipsis">
      
        Full System Backups
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Full System Backups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata-format_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metadata Format
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commands_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Commands
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-backup_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create Backup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-backups_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        List Backups
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verify Backup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-system_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Restore System
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cli-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        CLI Integration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automated-backups" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automated Backups
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Automated Backups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Setup Methods
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setup Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automated-setup-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automated Setup (Recommended)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manual Setup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration Options
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backup-timing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backup Timing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retention-policy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Retention Policy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup-directory" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backup Directory
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#management-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Management Commands
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Management Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Check Status
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uninstall" class="md-nav__link">
    <span class="md-ellipsis">
      
        Uninstall
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cron-job-details" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cron Job Details
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring Logs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restore-procedures" class="md-nav__link">
    <span class="md-ellipsis">
      
        Restore Procedures
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Restore Procedures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#database-only-restore" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database-Only Restore
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database-Only Restore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#safety-features" class="md-nav__link">
    <span class="md-ellipsis">
      
        Safety Features
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Restore Steps
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-from-snapshot" class="md-nav__link">
    <span class="md-ellipsis">
      
        Restore from Snapshot
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#full-system-restore" class="md-nav__link">
    <span class="md-ellipsis">
      
        Full System Restore
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Full System Restore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#selective-component-restore" class="md-nav__link">
    <span class="md-ellipsis">
      
        Selective Component Restore
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-after-restore" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verify After Restore
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disaster-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Disaster Recovery
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Disaster Recovery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rtorpo-targets" class="md-nav__link">
    <span class="md-ellipsis">
      
        RTO/RPO Targets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disaster-recovery-playbook" class="md-nav__link">
    <span class="md-ellipsis">
      
        Disaster Recovery Playbook
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Disaster Recovery Playbook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-full-system-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Full System Recovery
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-database-only-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Database-Only Recovery
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-ml-model-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. ML Model Recovery
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recovery-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recovery Testing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Recovery Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-production-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pre-Production Testing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#production-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Production Validation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#retention-pruning" class="md-nav__link">
    <span class="md-ellipsis">
      
        Retention &amp; Pruning
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Retention &amp; Pruning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-retention-policy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default Retention Policy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pruning-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pruning Commands
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manual Cleanup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring &amp; Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Monitoring &amp; Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#health-checks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Health Checks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Issues
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-container-not-running" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Container Not Running
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-permission-denied" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Permission Denied
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-disk-space-issues" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Disk Space Issues
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-backup-creation-fails" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Backup Creation Fails
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-restore-fails" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Restore Fails
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-checksum-validation-fails" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Checksum Validation Fails
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-cron-jobs-not-running" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Cron Jobs Not Running
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debug-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Debug Commands
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Log Monitoring
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#regular-backups" class="md-nav__link">
    <span class="md-ellipsis">
      
        Regular Backups
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backup Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#safety-measures" class="md-nav__link">
    <span class="md-ellipsis">
      
        Safety Measures
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regular-maintenance-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Regular Maintenance Tasks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migration-from-database-only-to-full-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        Migration from Database-Only to Full System
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Migration from Database-Only to Full System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-migrate" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why Migrate?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migration-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Migration Steps
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#legacy-command-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        Legacy Command Mapping
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-enhancements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Future Enhancements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Future Enhancements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#planned-features" class="md-nav__link">
    <span class="md-ellipsis">
      
        Planned Features
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration-opportunities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integration Opportunities
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#support" class="md-nav__link">
    <span class="md-ellipsis">
      
        Support
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SOURCE_CONFIG_PRECEDENCE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Source Config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Table of Contents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quick Start
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quick Start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create Backup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        Restore System
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-backups" class="md-nav__link">
    <span class="md-ellipsis">
      
        List Backups
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        System Overview
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backup-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backup Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#components-backed-up" class="md-nav__link">
    <span class="md-ellipsis">
      
        Components Backed Up
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Components Backed Up">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#database-only-backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database-Only Backup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#full-system-backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Full System Backup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backup Structure
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-only-backups" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database-Only Backups
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database-Only Backups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    <span class="md-ellipsis">
      
        Features
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Commands
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-backup_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create Backup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-backups_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        List Backups
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-database" class="md-nav__link">
    <span class="md-ellipsis">
      
        Restore Database
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata-format" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metadata Format
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-system-backups" class="md-nav__link">
    <span class="md-ellipsis">
      
        Full System Backups
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Full System Backups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata-format_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Metadata Format
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commands_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Commands
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-backup_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create Backup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-backups_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        List Backups
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-backup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verify Backup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-system_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Restore System
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cli-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        CLI Integration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automated-backups" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automated Backups
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Automated Backups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default Configuration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Setup Methods
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setup Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#automated-setup-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      
        Automated Setup (Recommended)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manual Setup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuration Options
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backup-timing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backup Timing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retention-policy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Retention Policy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup-directory" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backup Directory
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#management-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Management Commands
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Management Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Check Status
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uninstall" class="md-nav__link">
    <span class="md-ellipsis">
      
        Uninstall
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cron-job-details" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cron Job Details
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring-logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring Logs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restore-procedures" class="md-nav__link">
    <span class="md-ellipsis">
      
        Restore Procedures
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Restore Procedures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#database-only-restore" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database-Only Restore
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database-Only Restore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#safety-features" class="md-nav__link">
    <span class="md-ellipsis">
      
        Safety Features
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Restore Steps
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-from-snapshot" class="md-nav__link">
    <span class="md-ellipsis">
      
        Restore from Snapshot
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#full-system-restore" class="md-nav__link">
    <span class="md-ellipsis">
      
        Full System Restore
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Full System Restore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#selective-component-restore" class="md-nav__link">
    <span class="md-ellipsis">
      
        Selective Component Restore
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-after-restore" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verify After Restore
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disaster-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Disaster Recovery
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Disaster Recovery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rtorpo-targets" class="md-nav__link">
    <span class="md-ellipsis">
      
        RTO/RPO Targets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disaster-recovery-playbook" class="md-nav__link">
    <span class="md-ellipsis">
      
        Disaster Recovery Playbook
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Disaster Recovery Playbook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-full-system-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Full System Recovery
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-database-only-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Database-Only Recovery
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-ml-model-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. ML Model Recovery
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recovery-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recovery Testing
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Recovery Testing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-production-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pre-Production Testing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#production-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Production Validation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#retention-pruning" class="md-nav__link">
    <span class="md-ellipsis">
      
        Retention &amp; Pruning
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Retention &amp; Pruning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-retention-policy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default Retention Policy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pruning-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pruning Commands
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manual Cleanup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring-troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring &amp; Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Monitoring &amp; Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#health-checks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Health Checks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common Issues
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Issues">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-container-not-running" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Container Not Running
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-permission-denied" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Permission Denied
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-disk-space-issues" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Disk Space Issues
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-backup-creation-fails" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Backup Creation Fails
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-restore-fails" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Restore Fails
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-checksum-validation-fails" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Checksum Validation Fails
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-cron-jobs-not-running" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Cron Jobs Not Running
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debug-commands" class="md-nav__link">
    <span class="md-ellipsis">
      
        Debug Commands
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Log Monitoring
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#regular-backups" class="md-nav__link">
    <span class="md-ellipsis">
      
        Regular Backups
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Backup Management
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#safety-measures" class="md-nav__link">
    <span class="md-ellipsis">
      
        Safety Measures
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    <span class="md-ellipsis">
      
        Security
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regular-maintenance-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Regular Maintenance Tasks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migration-from-database-only-to-full-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        Migration from Database-Only to Full System
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Migration from Database-Only to Full System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-migrate" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why Migrate?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migration-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Migration Steps
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#legacy-command-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        Legacy Command Mapping
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#future-enhancements" class="md-nav__link">
    <span class="md-ellipsis">
      
        Future Enhancements
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Future Enhancements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#planned-features" class="md-nav__link">
    <span class="md-ellipsis">
      
        Planned Features
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration-opportunities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integration Opportunities
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#support" class="md-nav__link">
    <span class="md-ellipsis">
      
        Support
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="backup-and-restore-system">Backup and Restore System</h1>
<p>Comprehensive guide for CTI Scraper backup and restore operations, including database-only backups, full system backups, and automated backup configuration.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#quick-start">Quick Start</a></li>
<li><a href="#system-overview">System Overview</a></li>
<li><a href="#database-only-backups">Database-Only Backups</a></li>
<li><a href="#full-system-backups">Full System Backups</a></li>
<li><a href="#automated-backups">Automated Backups</a></li>
<li><a href="#restore-procedures">Restore Procedures</a></li>
<li><a href="#disaster-recovery">Disaster Recovery</a></li>
<li><a href="#retention--pruning">Retention &amp; Pruning</a></li>
<li><a href="#monitoring--troubleshooting">Monitoring &amp; Troubleshooting</a></li>
</ol>
<hr />
<h2 id="quick-start">Quick Start</h2>
<h3 id="create-backup">Create Backup</h3>
<pre><code class="language-bash"># Full system backup (recommended)
./scripts/backup_restore.sh create

# Database-only backup
./scripts/backup_restore.sh db-create
</code></pre>
<h3 id="restore-system">Restore System</h3>
<pre><code class="language-bash"># Restore full system
./scripts/backup_restore.sh restore system_backup_20251010_103000

# Restore database only
./scripts/backup_restore.sh db-restore cti_scraper_backup_20250907_134653.sql.gz
</code></pre>
<h3 id="list-backups">List Backups</h3>
<pre><code class="language-bash"># List all backups
./scripts/backup_restore.sh list

# List database-only backups
./scripts/backup_restore.sh db-list
</code></pre>
<hr />
<h2 id="system-overview">System Overview</h2>
<h3 id="backup-types">Backup Types</h3>
<table>
<thead>
<tr>
<th>Type</th>
<th>Components</th>
<th>Use Case</th>
<th>Speed</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Database-Only</strong></td>
<td>PostgreSQL dump</td>
<td>Quick DB snapshot</td>
<td>Fast (~1-2 min)</td>
</tr>
<tr>
<td><strong>Full System</strong></td>
<td>Database + Models + Config + Volumes</td>
<td>Complete recovery</td>
<td>Slow (~5-10 min)</td>
</tr>
</tbody>
</table>
<h3 id="components-backed-up">Components Backed Up</h3>
<h4 id="database-only-backup">Database-Only Backup</h4>
<ul>
<li>PostgreSQL database dump (compressed) - <strong>includes ALL tables</strong></li>
<li><strong>ml_model_versions</strong>: ML model version history with evaluation metrics (accuracy, precision, recall, F1 scores)</li>
<li><strong>agentic_workflow_config</strong>: Agent workflow configuration (thresholds, agent models, prompts, QA settings)</li>
<li><strong>agent_prompt_versions</strong>: Agent prompt version history</li>
<li><strong>app_settings</strong>: Application settings (user preferences, API keys, LLM configurations)</li>
<li><strong>agent_evaluations</strong>: Agent evaluation results and performance metrics</li>
<li><strong>sources</strong>: Source configurations (enabled/disabled status, lookback_days, check_frequency, RSS URLs, config JSON)</li>
<li><strong>source_checks</strong>: Source check history and health metrics</li>
<li>All other application tables</li>
<li>Metadata JSON file (includes ml_model_versions count for verification)</li>
</ul>
<h4 id="full-system-backup">Full System Backup</h4>
<ol>
<li><strong>Database</strong> - PostgreSQL dump with metadata</li>
<li><strong>ML Models</strong> - Trained models (<code>models/</code> directory)</li>
<li><strong>Configuration</strong> - Source configs and settings (<code>config/</code> directory)</li>
<li><strong><code>config/sources.yaml</code></strong> - Source definitions ( Can overwrite database on sync)</li>
<li>Other configuration files</li>
<li><strong>Training Data</strong> - User feedback and training datasets (<code>outputs/</code> directory)</li>
<li><strong>Docker Volumes</strong> - Persistent data (postgres_data, redis_data, ollama_data)</li>
<li><strong>Logs</strong> - Application logs (<code>logs/</code> directory)</li>
</ol>
<p><strong> Source Configuration</strong>: Database values are the source of truth. <code>config/sources.yaml</code> is only used for brand new builds (&lt; 5 sources). After restore, database settings are automatically preserved. See <a href="../SOURCE_CONFIG_PRECEDENCE/">Source Configuration Precedence</a> for details.</p>
<h3 id="backup-structure">Backup Structure</h3>
<p><strong>Database-Only:</strong></p>
<pre><code>backups/
 cti_scraper_backup_20250907_134653.sql.gz
 cti_scraper_backup_20250907_134653.json
</code></pre>
<p><strong>Full System:</strong></p>
<pre><code>backups/system_backup_20251010_103000/
 database.sql.gz
 metadata.json
 models/
 config/
 outputs/
 docker_volumes/
    postgres_data.tar.gz
    redis_data.tar.gz
    ollama_data.tar.gz
 logs/
</code></pre>
<hr />
<h2 id="database-only-backups">Database-Only Backups</h2>
<h3 id="features">Features</h3>
<ul>
<li><strong>Automatic Compression</strong>: gzip compression (~70-80% reduction)</li>
<li><strong>Metadata Tracking</strong>: JSON metadata with database stats (including ml_model_versions count)</li>
<li><strong>Timestamped Filenames</strong>: <code>cti_scraper_backup_YYYYMMDD_HHMMSS.sql.gz</code></li>
<li><strong>Docker Integration</strong>: Seamless container integration</li>
<li><strong>Safety Checks</strong>: Pre-restore validation and snapshots</li>
<li><strong>Complete Table Coverage</strong>: All tables backed up, including ml_model_versions for ML metric history</li>
<li><strong>Restore Verification</strong>: Automatically verifies ml_model_versions count matches backup metadata</li>
<li><strong>pgvector Extension</strong>: Automatically enables pgvector extension during restore (required for SIGMA similarity search with vector embeddings)</li>
</ul>
<h3 id="commands">Commands</h3>
<h4 id="create-backup_1">Create Backup</h4>
<pre><code class="language-bash"># Basic backup
python3 scripts/backup_database.py

# Using helper script
./scripts/backup_restore.sh db-create

# Custom location
python3 scripts/backup_database.py --backup-dir /path/to/backups

# Skip compression
python3 scripts/backup_database.py --no-compress
</code></pre>
<h4 id="list-backups_1">List Backups</h4>
<pre><code class="language-bash">./scripts/backup_restore.sh db-list
python3 scripts/backup_database.py --list
</code></pre>
<h4 id="restore-database">Restore Database</h4>
<pre><code class="language-bash"># Basic restore
./scripts/backup_restore.sh db-restore cti_scraper_backup_20250907_134653.sql.gz

# Force restore without confirmation
python3 scripts/restore_database.py backup.sql.gz --force

# Skip pre-restore snapshot
python3 scripts/restore_database.py backup.sql.gz --no-snapshot
</code></pre>
<h3 id="metadata-format">Metadata Format</h3>
<pre><code class="language-json">{
  &quot;database_size&quot;: &quot;15.2 MB&quot;,
  &quot;table_stats&quot;: &quot;table_name | inserts | updates | deletes&quot;,
  &quot;ml_model_versions_count&quot;: &quot;5&quot;,
  &quot;backup_timestamp&quot;: &quot;2025-09-07T13:46:53.394736&quot;,
  &quot;postgres_version&quot;: &quot;15-alpine&quot;
}
</code></pre>
<p><strong>Note</strong>: The <code>ml_model_versions_count</code> field is used during restore verification to ensure ML model metric history is correctly restored.</p>
<hr />
<h2 id="full-system-backups">Full System Backups</h2>
<h3 id="architecture">Architecture</h3>
<p>Full system backups provide complete system recovery capability, backing up all critical components for disaster recovery.</p>
<h3 id="metadata-format_1">Metadata Format</h3>
<pre><code class="language-json">{
  &quot;timestamp&quot;: &quot;2025-10-10T10:30:00&quot;,
  &quot;version&quot;: &quot;2.0&quot;,
  &quot;backup_name&quot;: &quot;system_backup_20251010_103000&quot;,
  &quot;components&quot;: {
    &quot;database&quot;: {
      &quot;filename&quot;: &quot;database_20251010_103000.sql.gz&quot;,
      &quot;size_mb&quot;: 45.2,
      &quot;checksum&quot;: &quot;sha256...&quot;
    },
    &quot;models&quot;: {
      &quot;files&quot;: 1,
      &quot;size_mb&quot;: 0.5
    },
    &quot;config&quot;: {
      &quot;files&quot;: 1,
      &quot;size_mb&quot;: 0.04
    }
  },
  &quot;total_size_mb&quot;: 93.04
}
</code></pre>
<h3 id="commands_1">Commands</h3>
<h4 id="create-backup_2">Create Backup</h4>
<pre><code class="language-bash"># Full system backup (default)
./scripts/backup_restore.sh create

# Database-only
./scripts/backup_restore.sh create --type database

# Files-only
./scripts/backup_restore.sh create --type files

# Custom options
./scripts/backup_restore.sh create --no-compress --no-verify
</code></pre>
<h4 id="list-backups_2">List Backups</h4>
<pre><code class="language-bash"># List all backups
./scripts/backup_restore.sh list

# Show detailed information
./scripts/backup_restore.sh list --show-details
</code></pre>
<h4 id="verify-backup">Verify Backup</h4>
<pre><code class="language-bash"># Basic verification
./scripts/backup_restore.sh verify system_backup_20251010_103000

# With database restore test
./scripts/backup_restore.sh verify system_backup_20251010_103000 --test-restore
</code></pre>
<h4 id="restore-system_1">Restore System</h4>
<pre><code class="language-bash"># Full system restore
./scripts/backup_restore.sh restore system_backup_20251010_103000

# Selective restore
./scripts/backup_restore.sh restore system_backup_20251010_103000 --components database,models

# Dry run
./scripts/backup_restore.sh restore system_backup_20251010_103000 --dry-run
</code></pre>
<h3 id="cli-integration">CLI Integration</h3>
<pre><code class="language-bash"># Create backup
python -m src.cli.main backup create

# List backups
python -m src.cli.main backup list

# Restore system
python -m src.cli.main backup restore system_backup_20251010_103000

# Verify backup
python -m src.cli.main backup verify system_backup_20251010_103000

# Show statistics
python -m src.cli.main backup stats
</code></pre>
<hr />
<h2 id="automated-backups">Automated Backups</h2>
<h3 id="default-configuration">Default Configuration</h3>
<ul>
<li><strong>Daily Backup</strong>: 2:00 AM (configurable)</li>
<li><strong>Weekly Cleanup</strong>: 3:00 AM on Sundays (configurable)</li>
<li><strong>Retention Policy</strong>: 7 daily + 4 weekly + 3 monthly backups</li>
<li><strong>Max Size</strong>: 50 GB total backup storage</li>
<li><strong>Backup Type</strong>: Full system backup</li>
</ul>
<h3 id="setup-methods">Setup Methods</h3>
<h4 id="automated-setup-recommended">Automated Setup (Recommended)</h4>
<pre><code class="language-bash"># Full setup with automated backups
./setup.sh

# Setup without automated backups
./setup.sh --no-backups

# Setup with custom backup time
./setup.sh --backup-time 1:30
</code></pre>
<h4 id="manual-setup">Manual Setup</h4>
<pre><code class="language-bash"># Setup with default settings
./scripts/setup_automated_backups.sh

# Setup with custom settings
./scripts/setup_automated_backups.sh --backup-time 1:30 --daily 10 --weekly 5

# Setup with custom retention policy
./scripts/setup_automated_backups.sh --daily 7 --weekly 4 --monthly 3 --max-size-gb 100
</code></pre>
<h3 id="configuration-options">Configuration Options</h3>
<h4 id="backup-timing">Backup Timing</h4>
<pre><code class="language-bash"># Custom backup time (24-hour format)
./scripts/setup_automated_backups.sh --backup-time 1:30

# Custom cleanup time
./scripts/setup_automated_backups.sh --cleanup-time 4:00
</code></pre>
<h4 id="retention-policy">Retention Policy</h4>
<pre><code class="language-bash"># Custom retention policy
./scripts/setup_automated_backups.sh --daily 10 --weekly 5 --monthly 2

# Size-based retention
./scripts/setup_automated_backups.sh --max-size-gb 100
</code></pre>
<h4 id="backup-directory">Backup Directory</h4>
<pre><code class="language-bash"># Custom backup directory
./scripts/setup_automated_backups.sh --backup-dir /path/to/backups
</code></pre>
<h3 id="management-commands">Management Commands</h3>
<h4 id="check-status">Check Status</h4>
<pre><code class="language-bash"># Show current backup status
./scripts/setup_automated_backups.sh --status
</code></pre>
<p>This shows:
- Whether automated backups are configured
- Recent backup activity
- Backup statistics and size
- Recent log entries</p>
<h4 id="uninstall">Uninstall</h4>
<pre><code class="language-bash"># Remove automated backups
./scripts/setup_automated_backups.sh --uninstall
</code></pre>
<h3 id="cron-job-details">Cron Job Details</h3>
<p>The automated backup system creates two cron jobs:</p>
<p><strong>Daily Backup Job:</strong></p>
<pre><code class="language-bash"># Runs daily at 2:00 AM
0 2 * * * cd /path/to/CTIScraper &amp;&amp; ./scripts/backup_restore.sh create --type full &gt;&gt; logs/backup.log 2&gt;&amp;1
</code></pre>
<p><strong>Weekly Cleanup Job:</strong></p>
<pre><code class="language-bash"># Runs weekly on Sundays at 3:00 AM
0 3 * * 0 cd /path/to/CTIScraper &amp;&amp; ./scripts/backup_restore.sh prune --daily 7 --weekly 4 --monthly 3 --max-size-gb 50 --force &gt;&gt; logs/backup.log 2&gt;&amp;1
</code></pre>
<h3 id="monitoring-logs">Monitoring Logs</h3>
<pre><code class="language-bash"># View recent backup logs
tail -f logs/backup.log

# View all backup logs
cat logs/backup.log
</code></pre>
<hr />
<h2 id="restore-procedures">Restore Procedures</h2>
<h3 id="database-only-restore">Database-Only Restore</h3>
<h4 id="safety-features">Safety Features</h4>
<ul>
<li>Validates backup file format before restore</li>
<li>Creates pre-restore snapshots by default</li>
<li>Confirms restore operation (unless <code>--force</code> is used)</li>
<li>Verifies database connection after restore</li>
</ul>
<h4 id="restore-steps">Restore Steps</h4>
<pre><code class="language-bash"># 1. List available backups
./scripts/backup_restore.sh db-list

# 2. Restore from specific backup
# Note: pgvector extension is automatically enabled during restore for SIGMA similarity search
./scripts/backup_restore.sh db-restore cti_scraper_backup_20250907_134653.sql.gz

# 3. Verify database
docker exec -it cti_postgres psql -U cti_user -d cti_scraper -c &quot;SELECT COUNT(*) FROM articles;&quot;

# 4. Verify pgvector extension (for SIGMA features)
docker exec -it cti_postgres psql -U cti_user -d cti_scraper -c &quot;SELECT * FROM pg_extension WHERE extname = 'vector';&quot;
</code></pre>
<h4 id="restore-from-snapshot">Restore from Snapshot</h4>
<p>If a restore fails, restore from pre-restore snapshot:</p>
<pre><code class="language-bash"># List snapshot files
ls backups/pre_restore_snapshot_*.sql

# Restore from snapshot
python3 scripts/restore_database.py backups/pre_restore_snapshot_20250907_140201.sql --force
</code></pre>
<h3 id="full-system-restore">Full System Restore</h3>
<h4 id="selective-component-restore">Selective Component Restore</h4>
<pre><code class="language-bash"># Database only
./scripts/backup_restore.sh restore system_backup_YYYYMMDD_HHMMSS --components database

# ML models only
./scripts/backup_restore.sh restore system_backup_YYYYMMDD_HHMMSS --components models

# Config files only
./scripts/backup_restore.sh restore system_backup_YYYYMMDD_HHMMSS --components config

# Multiple components
./scripts/backup_restore.sh restore system_backup_YYYYMMDD_HHMMSS --components database,models,config
</code></pre>
<h4 id="verify-after-restore">Verify After Restore</h4>
<pre><code class="language-bash"># Verify database
docker exec -it cti_postgres psql -U cti_user -d cti_scraper -c &quot;SELECT COUNT(*) FROM articles;&quot;

# Verify models
ls -la models/
python -c &quot;import pickle; pickle.load(open('models/content_filter.pkl', 'rb'))&quot;

# Verify config
cat config/sources.yaml

# Verify containers
docker-compose ps
</code></pre>
<hr />
<h2 id="disaster-recovery">Disaster Recovery</h2>
<h3 id="rtorpo-targets">RTO/RPO Targets</h3>
<ul>
<li><strong>Recovery Time Objective (RTO)</strong>: &lt; 30 minutes</li>
<li><strong>Recovery Point Objective (RPO)</strong>: &lt; 24 hours (daily backups)</li>
</ul>
<h3 id="disaster-recovery-playbook">Disaster Recovery Playbook</h3>
<h4 id="1-full-system-recovery">1. Full System Recovery</h4>
<pre><code class="language-bash"># 1. Stop all services
docker-compose down

# 2. Restore from latest backup
./scripts/backup_restore.sh restore system_backup_YYYYMMDD_HHMMSS

# 3. Start services
docker-compose up -d

# 4. Verify system health
./scripts/backup_restore.sh verify system_backup_YYYYMMDD_HHMMSS
</code></pre>
<h4 id="2-database-only-recovery">2. Database-Only Recovery</h4>
<pre><code class="language-bash"># 1. Restore database component only
./scripts/backup_restore.sh restore system_backup_YYYYMMDD_HHMMSS --components database

# 2. Verify database
docker exec -it cti_postgres psql -U cti_user -d cti_scraper -c &quot;SELECT COUNT(*) FROM articles;&quot;
</code></pre>
<h4 id="3-ml-model-recovery">3. ML Model Recovery</h4>
<pre><code class="language-bash"># 1. Restore models component only
./scripts/backup_restore.sh restore system_backup_YYYYMMDD_HHMMSS --components models

# 2. Verify models
ls -la models/
python -c &quot;import pickle; pickle.load(open('models/content_filter.pkl', 'rb'))&quot;
</code></pre>
<h3 id="recovery-testing">Recovery Testing</h3>
<h4 id="pre-production-testing">Pre-Production Testing</h4>
<pre><code class="language-bash"># 1. Create test backup
./scripts/backup_restore.sh create --type full

# 2. Verify backup integrity
./scripts/backup_restore.sh verify system_backup_YYYYMMDD_HHMMSS --test-restore

# 3. Test selective restore
./scripts/backup_restore.sh restore system_backup_YYYYMMDD_HHMMSS --components database --dry-run
</code></pre>
<h4 id="production-validation">Production Validation</h4>
<ol>
<li><strong>Monthly full restore test</strong>: Restore to isolated environment</li>
<li><strong>Quarterly disaster recovery drill</strong>: Simulate complete system failure</li>
</ol>
<hr />
<h2 id="retention-pruning">Retention &amp; Pruning</h2>
<h3 id="default-retention-policy">Default Retention Policy</h3>
<ul>
<li><strong>Daily</strong>: Keep last 7 daily backups</li>
<li><strong>Weekly</strong>: Keep last 4 weekly backups  </li>
<li><strong>Monthly</strong>: Keep last 3 monthly backups</li>
<li><strong>Size Limit</strong>: Maximum 50 GB total backup size</li>
</ul>
<h3 id="pruning-commands">Pruning Commands</h3>
<pre><code class="language-bash"># Show what would be pruned (dry run)
./scripts/backup_restore.sh prune --dry-run

# Custom retention policy
./scripts/backup_restore.sh prune --daily 5 --weekly 2 --monthly 1 --max-size-gb 30

# Force prune without confirmation
./scripts/backup_restore.sh prune --force
</code></pre>
<h3 id="manual-cleanup">Manual Cleanup</h3>
<pre><code class="language-bash"># List old backups
./scripts/backup_restore.sh list

# Remove specific backup
rm -rf backups/system_backup_20251001_103000

# Remove database-only backup
rm -f backups/cti_scraper_backup_20250901_*.{sql.gz,json}
</code></pre>
<hr />
<h2 id="monitoring-troubleshooting">Monitoring &amp; Troubleshooting</h2>
<h3 id="health-checks">Health Checks</h3>
<pre><code class="language-bash"># Check backup status
./scripts/backup_restore.sh list

# Show backup statistics
./scripts/backup_restore.sh stats

# Verify latest backup
LATEST_BACKUP=$(./scripts/backup_restore.sh list | grep &quot;system_backup_&quot; | head -1 | awk '{print $2}')
./scripts/backup_restore.sh verify $LATEST_BACKUP
</code></pre>
<h3 id="common-issues">Common Issues</h3>
<h4 id="1-container-not-running">1. Container Not Running</h4>
<p><strong>Error</strong>: <code>PostgreSQL container 'cti_postgres' is not running!</code></p>
<p><strong>Solution</strong>:</p>
<pre><code class="language-bash">docker-compose up -d
docker-compose ps
</code></pre>
<h4 id="2-permission-denied">2. Permission Denied</h4>
<p><strong>Error</strong>: <code>Permission denied</code></p>
<p><strong>Solution</strong>:</p>
<pre><code class="language-bash">chmod +x scripts/*.sh scripts/*.py
</code></pre>
<h4 id="3-disk-space-issues">3. Disk Space Issues</h4>
<p><strong>Error</strong>: <code>No space left on device</code></p>
<p><strong>Solution</strong>:</p>
<pre><code class="language-bash"># Check disk space
df -h

# Clean up old backups
./scripts/backup_restore.sh prune --force

# Remove Docker resources
docker system prune -a
</code></pre>
<h4 id="4-backup-creation-fails">4. Backup Creation Fails</h4>
<p><strong>Solutions</strong>:
- Check Docker containers: <code>docker-compose ps</code>
- Verify disk space: <code>df -h</code>
- Check file permissions: <code>ls -la scripts/</code>
- Review logs: <code>tail -50 logs/backup.log</code></p>
<h4 id="5-restore-fails">5. Restore Fails</h4>
<p><strong>Solutions</strong>:
- Verify backup integrity first
- Check Docker container status
- Ensure sufficient disk space
- Try selective component restore</p>
<h4 id="6-checksum-validation-fails">6. Checksum Validation Fails</h4>
<p><strong>Solutions</strong>:
- Recreate backup from source
- Check for file corruption
- Verify backup storage integrity</p>
<h4 id="7-cron-jobs-not-running">7. Cron Jobs Not Running</h4>
<p><strong>Solutions</strong>:
- Check cron service: <code>systemctl status cron</code>
- Verify cron jobs: <code>crontab -l</code>
- Check cron logs: <code>journalctl -u cron</code></p>
<h3 id="debug-commands">Debug Commands</h3>
<pre><code class="language-bash"># Check Docker containers
docker ps

# Check Docker volumes
docker volume ls

# Check disk space
df -h

# Check backup directory
ls -la backups/

# Check cron jobs
crontab -l

# View backup logs
tail -50 logs/backup.log

# Test backup manually
./scripts/backup_restore.sh create --type full
</code></pre>
<h3 id="log-monitoring">Log Monitoring</h3>
<pre><code class="language-bash"># View recent backup logs
tail -f logs/backup.log

# Search for errors
grep -i error logs/backup.log

# Search for specific backup
grep &quot;system_backup_20251010&quot; logs/backup.log
</code></pre>
<hr />
<h2 id="best-practices">Best Practices</h2>
<h3 id="regular-backups">Regular Backups</h3>
<ul>
<li>Create backups before major updates</li>
<li>Schedule regular automated backups (daily recommended)</li>
<li>Keep multiple backup versions</li>
<li>Test restore procedures regularly</li>
</ul>
<h3 id="backup-management">Backup Management</h3>
<ul>
<li>Monitor backup directory size</li>
<li>Clean up old backups periodically with retention policies</li>
<li>Verify backup integrity regularly</li>
<li>Store backups in secure locations</li>
</ul>
<h3 id="safety-measures">Safety Measures</h3>
<ul>
<li>Always create snapshots before restore</li>
<li>Test restore in non-production environment first</li>
<li>Use <code>--dry-run</code> for testing restore operations</li>
<li>Keep legacy backups for rollback options</li>
</ul>
<h3 id="security">Security</h3>
<ul>
<li>Backup files contain sensitive data</li>
<li>Use appropriate file permissions (600 or 640)</li>
<li>Consider encryption for long-term storage</li>
<li>Implement secure backup transfer methods</li>
</ul>
<h3 id="performance">Performance</h3>
<ul>
<li>Schedule backups during low-usage periods (default: 2:00 AM)</li>
<li>Use compression for large backups (enabled by default)</li>
<li>Monitor backup duration and optimize as needed</li>
<li>Consider incremental backups for very large datasets</li>
</ul>
<h3 id="regular-maintenance-tasks">Regular Maintenance Tasks</h3>
<p><strong>Weekly</strong>:
- Check backup status and logs
- Verify backup integrity
- Monitor storage usage</p>
<p><strong>Monthly</strong>:
- Test restore procedures
- Review retention policies
- Update documentation</p>
<p><strong>Quarterly</strong>:
- Disaster recovery drill
- Performance optimization review
- Security audit</p>
<hr />
<h2 id="migration-from-database-only-to-full-system">Migration from Database-Only to Full System</h2>
<h3 id="why-migrate">Why Migrate?</h3>
<p>Full system backups provide:
- Complete system recovery (Database + ML models + config + volumes)
- Better organization with metadata
- Enhanced verification with checksum validation
- Selective component restore
- Automated retention management</p>
<h3 id="migration-steps">Migration Steps</h3>
<pre><code class="language-bash"># 1. Create first comprehensive backup
./scripts/backup_restore.sh create

# 2. Verify backup
./scripts/backup_restore.sh verify system_backup_YYYYMMDD_HHMMSS

# 3. Test restore
./scripts/backup_restore.sh restore system_backup_YYYYMMDD_HHMMSS --dry-run

# 4. Setup automated backups
./scripts/setup_automated_backups.sh
</code></pre>
<h3 id="legacy-command-mapping">Legacy Command Mapping</h3>
<table>
<thead>
<tr>
<th>Legacy Command</th>
<th>New Command</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>./scripts/backup_restore.sh create</code></td>
<td><code>./scripts/backup_restore.sh db-create</code></td>
<td>Database-only backup</td>
</tr>
<tr>
<td><code>./scripts/backup_restore.sh list</code></td>
<td><code>./scripts/backup_restore.sh db-list</code></td>
<td>Database-only backups</td>
</tr>
<tr>
<td><code>./scripts/backup_restore.sh restore</code></td>
<td><code>./scripts/backup_restore.sh db-restore</code></td>
<td>Database-only restore</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="future-enhancements">Future Enhancements</h2>
<h3 id="planned-features">Planned Features</h3>
<ol>
<li><strong>Incremental Backups</strong>: Only backup changed files to reduce time and storage</li>
<li><strong>Backup Encryption</strong>: Encrypt sensitive backup data with key management</li>
<li><strong>Remote Storage</strong>: Cloud storage integration (S3, Azure, GCS)</li>
<li><strong>Multi-Region Replication</strong>: Backup replication across regions</li>
<li><strong>Backup Monitoring Dashboard</strong>: Web-based status and alerting</li>
<li><strong>Automated Scheduling</strong>: Enhanced cron/systemd-based scheduling</li>
<li><strong>Notification Integration</strong>: Slack/Teams/Email alerts</li>
</ol>
<h3 id="integration-opportunities">Integration Opportunities</h3>
<ol>
<li><strong>CI/CD Integration</strong>: Automated backup testing, deployment rollback</li>
<li><strong>Monitoring Integration</strong>: Prometheus metrics, Grafana dashboards</li>
<li><strong>Notification Integration</strong>: Real-time backup status alerts</li>
</ol>
<hr />
<h2 id="support">Support</h2>
<p>For issues with backups:</p>
<ol>
<li>Check troubleshooting section above</li>
<li>Review backup logs: <code>tail -50 logs/backup.log</code></li>
<li>Verify Docker containers are running: <code>docker-compose ps</code></li>
<li>Test manual backup operations</li>
<li>Check system resources (disk space, memory)</li>
</ol>
<hr />
<p><strong>Last Updated</strong>: January 2025<br />
<strong>Version</strong>: 2.0</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>