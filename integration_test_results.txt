FFFFFFFFssssssssFFFFFFFFF.FsFF............EFFF.FF.FFF....FF.FFFFFFF      [100%]
=============================== warnings summary ===============================
../usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:323
../usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:323
../usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:323
tests/integration/test_scoring_system_integration.py::TestScoringSystemIntegration::test_rescore_workflow_via_cli
tests/integration/test_scoring_system_integration.py::TestScoringSystemIntegration::test_rescore_workflow_via_cli
  /usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:323: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)

tests/integration/test_celery_workflow_integration.py:41
  /app/tests/integration/test_celery_workflow_integration.py:41: PytestUnknownMarkWarning: Unknown pytest.mark.requires_docker - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.requires_docker

tests/integration/test_celery_workflow_integration.py:282
  /app/tests/integration/test_celery_workflow_integration.py:282: PytestUnknownMarkWarning: Unknown pytest.mark.requires_docker - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.requires_docker

src/database/models.py:13
  /app/src/database/models.py:13: MovedIn20Warning: The ``declarative_base()`` function is now available as sqlalchemy.orm.declarative_base(). (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    Base = declarative_base()

tests/integration/test_error_recovery_integration.py::TestErrorRecoveryIntegration::test_redis_cache_failures
  /usr/local/lib/python3.11/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_redis_cache_failures' requested an async fixture 'test_redis_client', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

tests/integration/test_error_recovery_integration.py::TestErrorRecoveryIntegration::test_redis_cache_failures
  /usr/local/lib/python3.11/site-packages/pytest_asyncio/plugin.py:678: PytestDeprecationWarning: asyncio test 'test_redis_cache_failures' requested async @pytest.fixture 'test_redis_client' in strict mode. You might want to use @pytest_asyncio.fixture or switch to auto mode. This will become an error in future versions of pytest-asyncio.
    warnings.warn(

tests/integration/test_export_backup_integration.py: 1447 warnings
  /app/tests/integration/test_export_backup_integration.py:62: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    json.dump([article.dict() for article in articles], f, indent=2, default=str)

tests/integration/test_rag_conversation_integration.py::TestRAGConversationIntegration::test_single_turn_conversation
  /usr/local/lib/python3.11/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_single_turn_conversation' requested an async fixture 'external_api_preference', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

tests/integration/test_rag_conversation_integration.py::TestRAGConversationIntegration::test_single_turn_conversation
  /usr/local/lib/python3.11/site-packages/pytest_asyncio/plugin.py:678: PytestDeprecationWarning: asyncio test 'test_single_turn_conversation' requested async @pytest.fixture 'external_api_preference' in strict mode. You might want to use @pytest_asyncio.fixture or switch to auto mode. This will become an error in future versions of pytest-asyncio.
    warnings.warn(

tests/integration/test_rag_conversation_integration.py::TestRAGConversationIntegration::test_multi_turn_conversation
  /usr/local/lib/python3.11/selectors.py:352: RuntimeWarning: coroutine 'external_api_preference' was never awaited
    key = super().register(fileobj, events, data)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/integration/test_rag_conversation_integration.py::TestRAGConversationIntegration::test_rag_with_different_providers
  /usr/local/lib/python3.11/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_rag_with_different_providers' requested an async fixture 'external_api_preference', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

tests/integration/test_rag_conversation_integration.py::TestRAGConversationIntegration::test_rag_with_different_providers
  /usr/local/lib/python3.11/site-packages/pytest_asyncio/plugin.py:678: PytestDeprecationWarning: asyncio test 'test_rag_with_different_providers' requested async @pytest.fixture 'external_api_preference' in strict mode. You might want to use @pytest_asyncio.fixture or switch to auto mode. This will become an error in future versions of pytest-asyncio.
    warnings.warn(

tests/integration/test_rag_conversation_integration.py::TestRAGConversationIntegration::test_rag_with_different_providers
  /usr/local/lib/python3.11/site-packages/_pytest/runner.py:146: RuntimeWarning: coroutine 'external_api_preference' was never awaited
    item.funcargs = None  # type: ignore[attr-defined]
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

tests/integration/test_scoring_system_integration.py::TestScoringSystemIntegration::test_rescore_workflow_via_cli
  /app/src/database/async_manager.py:801: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    update_dict = update_data.dict(exclude_unset=True)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/integration/test_annotation_feedback_integration.py::TestAnnotationFeedbackIntegration::test_annotation_creation_workflow
FAILED tests/integration/test_annotation_feedback_integration.py::TestAnnotationFeedbackIntegration::test_annotation_length_validation
FAILED tests/integration/test_annotation_feedback_integration.py::TestAnnotationFeedbackIntegration::test_chunk_classification_feedback_workflow
FAILED tests/integration/test_annotation_feedback_integration.py::TestAnnotationFeedbackIntegration::test_feedback_count_aggregation
FAILED tests/integration/test_annotation_feedback_integration.py::TestAnnotationFeedbackIntegration::test_model_retraining_workflow
FAILED tests/integration/test_annotation_feedback_integration.py::TestAnnotationFeedbackIntegration::test_cumulative_learning_workflow
FAILED tests/integration/test_annotation_feedback_integration.py::TestAnnotationFeedbackIntegration::test_model_version_tracking
FAILED tests/integration/test_annotation_feedback_integration.py::TestAnnotationFeedbackIntegration::test_annotation_confidence_improvement_cycle
FAILED tests/integration/test_content_pipeline_integration.py::TestContentPipelineIntegration::test_rss_to_storage_pipeline
FAILED tests/integration/test_content_pipeline_integration.py::TestContentPipelineIntegration::test_content_validation_and_corruption_detection
FAILED tests/integration/test_content_pipeline_integration.py::TestContentPipelineIntegration::test_metadata_enhancement_workflow
FAILED tests/integration/test_content_pipeline_integration.py::TestContentPipelineIntegration::test_url_normalization
FAILED tests/integration/test_content_pipeline_integration.py::TestContentPipelineIntegration::test_content_hash_deduplication
FAILED tests/integration/test_content_pipeline_integration.py::TestContentPipelineIntegration::test_batch_processing_mixed_content
FAILED tests/integration/test_content_pipeline_integration.py::TestContentPipelineIntegration::test_error_recovery_in_pipeline
FAILED tests/integration/test_content_pipeline_integration.py::TestContentProcessingValidation::test_html_cleaning_in_pipeline
FAILED tests/integration/test_content_pipeline_integration.py::TestContentProcessingValidation::test_timestamp_validation
FAILED tests/integration/test_error_recovery_integration.py::TestErrorRecoveryIntegration::test_external_api_failures
FAILED tests/integration/test_error_recovery_integration.py::TestErrorRecoveryIntegration::test_partial_batch_failures
FAILED tests/integration/test_error_recovery_integration.py::TestErrorRecoveryIntegration::test_corrupt_article_handling
FAILED tests/integration/test_rag_conversation_integration.py::TestRAGConversationIntegration::test_single_turn_conversation
FAILED tests/integration/test_rag_conversation_integration.py::TestRAGConversationIntegration::test_multi_turn_conversation
FAILED tests/integration/test_rag_conversation_integration.py::TestRAGConversationIntegration::test_conversation_history_storage
FAILED tests/integration/test_rag_conversation_integration.py::TestRAGConversationIntegration::test_provider_fallback
FAILED tests/integration/test_rag_conversation_integration.py::TestRAGConversationIntegration::test_conversation_session_isolation
FAILED tests/integration/test_rag_conversation_integration.py::TestRAGSemanticSearch::test_semantic_search_retrieval
FAILED tests/integration/test_scoring_system_integration.py::TestScoringSystemIntegration::test_initial_scoring_during_collection
FAILED tests/integration/test_scoring_system_integration.py::TestScoringSystemIntegration::test_rescore_workflow_via_cli
FAILED tests/integration/test_scoring_system_integration.py::TestScoringSystemIntegration::test_score_distribution_statistics
FAILED tests/integration/test_scoring_system_integration.py::TestScoringKeywordMatching::test_perfect_discriminator_matching
FAILED tests/integration/test_source_management_integration.py::TestSourceManagementIntegration::test_source_addition_workflow
FAILED tests/integration/test_source_management_integration.py::TestSourceManagementIntegration::test_source_configuration_updates
FAILED tests/integration/test_source_management_integration.py::TestSourceManagementIntegration::test_source_deactivation
FAILED tests/integration/test_source_management_integration.py::TestSourceManagementIntegration::test_source_health_monitoring
FAILED tests/integration/test_source_management_integration.py::TestSourceManagementIntegration::test_source_sync_from_yaml
FAILED tests/integration/test_source_management_integration.py::TestSourceManagementIntegration::test_source_fallback_strategy
FAILED tests/integration/test_source_management_integration.py::TestSourceManagementIntegration::test_source_statistics_tracking
ERROR tests/integration/test_export_backup_integration.py::TestBackupVerification::test_backup_verification
37 failed, 20 passed, 9 skipped, 116 deselected, 1464 warnings, 1 error in 8.46s
